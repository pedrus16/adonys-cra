<h2>
	Comptes Rendus d'Activité 
</h2>

<div class="row">
	<form class="form-inline col-md-4 filter-block" ng-submit="reports.search(filter.search)">
		<div class="input-group">
			<input type="search" class="form-control" name="searchReport" placeholder="Rechercher" ng-model="filter.search">
				<span class="input-group-btn">
				<button type="submit" class="btn btn-default"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
			</span>
		</div><!-- /input-group -->
		<label class="sr-only" for="searchReport">Rechercher un compte rendu d'activité</label>
	</form>

	<div class="col col-md-8 text-right filter-block">
		<div class="btn-group">
			<label class="btn btn-default" disabled="disabled"><span class="glyphicon glyphicon-filter" aria-hidden="true"></span> Filtres</label>
			<label class="btn btn-default" ng-model="filter.roles[role.name]" uib-btn-checkbox ng-repeat="role in roles track by role.name">
				{{ role.label }}
			</label>
		</div>
		
	</div>
</div>

<table class="table table-responsive"
	infinite-scroll="reports.nextPage()" 
	infinite-scroll-distance='1'>
	<tr>
		<th>
			<a href ng-click="toggleSort('id')">
				Id
				<span class="caret" ng-class="{up: reports.order === 'asc' && reports.sortBy === 'id'}"></span>
			</a>
		</th>
		<th>
			<a href ng-click="toggleSort('date')">
				Période
				<span class="caret" ng-class="{up: reports.order === 'asc' && reports.sortBy === 'date'}"></span>
			</a>
		</th>
		<th>
			<a href ng-click="toggleSort('client')">
				Client
				<span class="caret" ng-class="{up: reports.order === 'asc' && reports.sortBy === 'client'}"></span>
			</a>
		</th>
		<th>
			<a href ng-click="toggleSort('employee')">
				Collaborateur
				<span class="caret" ng-class="{up: reports.order === 'asc' && reports.sortBy === 'employee'}"></span>
			</a>
		</th>
		<th>Actions</th>
	</tr>
	<tr ng-repeat="report in reports.items" class="animate-repeat">
		<td>{{ report.id }}</td>
		<td>{{ report.id }}</td>
		<td>
			<a ui-sref="main.report-detail({ reportId: report.client.id })">
				{{ report.client.name }}
			</a>
		</td>
		<td>
			<a ui-sref="main.report-detail({ reportId: report.employee.id })">
				{{ report.employee.name }}
			</a>
		</td>
		<td>
			<ul class="list-inline">
				<li>
					<a ui-sref="main.report-detail({ reportId: report.id })"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></a>
				</li>
				<li>
					<a ui-sref="main.report-edit({ reportId: report.id })"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
				</li>
				<li>
					<a ui-sref="main.report-delete({ reportId: report.id })"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
				</li>
			</ul>
		</td>
	</tr>
</table>

